{
  "action": "update_code",
  "file_path": "ben_gui_desktop/widgets/user_profile_panel.py",
  "update_type": "custom_insert",
  "insert_at_line": 18,
  "code": "# Застосування теми при зміні\n        def apply_theme(event=None):\n            selected = self.theme_var.get()\n            if selected == \"dark\":\n                parent.tk_setPalette(background=\"#1e1e1e\", foreground=\"#ffffff\")\n            elif selected == \"light\":\n                parent.tk_setPalette(background=\"#ffffff\", foreground=\"#000000\")\n            else:\n                parent.tk_setPalette(background=None, foreground=None)\n\n        self.theme_var.trace_add(\"write\", lambda *args: apply_theme())\n        apply_theme()"
}
