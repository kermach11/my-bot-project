{
  "action": "update_code",
  "file_path": "ben_gui_desktop/widgets/macro_builder.py",
  "update_type": "custom_insert",
  "insert_at_line": 70,
  "code": "    def run_macro(self):\n        try:\n            with open(\"macro_command.json\", \"r\", encoding=\"utf-8\") as f:\n                macro = json.load(f)\n            with open(\"request.json\", \"w\", encoding=\"utf-8\") as f:\n                json.dump([macro], f, indent=2)\n            messagebox.showinfo(\"Запуск\", \"▶️ Макрос надіслано до агента\")\n        except Exception as e:\n            messagebox.showerror(\"Помилка\", \"❌ Не вдалося запустити макрос: {}\".format(e))"
}
